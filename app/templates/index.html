<!doctype html>
<html lang="en">
  <head>
    <title>LAN Janitor</title>
    <!-- fonts -->
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link href="https://fonts.googleapis.com/css2?family=Staatliches&display=swap" rel="stylesheet">

    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="csrf-token" content="{{ csrf_token() }}">

    <!-- Bootstrap 5.3 CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Bootstrap icons CSS-->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css">
    <!-- Vue.js -->
    <script src="https://cdn.jsdelivr.net/npm/vue@3/dist/vue.global.prod.js"></script>
    <style>
      body {
        background: linear-gradient(135deg, #e0eafc 0%, #cfdef3 100%);
        min-height: 100vh;
      }
      .janitor-header {
        font-family: Staatliches, sans-serif;
        font-size: 2.5rem;
        letter-spacing: 2px;
        color: #2d3a4b;
        text-align: center;
        margin-top: 2rem;
        margin-bottom: 1rem;
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 0.5rem;
      }
      .janitor-icon {
        font-size: 2.5rem;
        color: #198754;
        vertical-align: middle;
      }
      .server-card {
        box-shadow: 0 2px 8px rgba(44,62,80,0.08);
        border-radius: 1rem;
        background: #f8fafc;
        border: 1px solid #e3e6ed;
        margin-bottom: 1.5rem;
        transition: box-shadow 0.2s;
      }
      .server-card:hover {
        box-shadow: 0 6px 24px rgba(44,62,80,0.16);
      }
      .add-server-btn {
        background: #198754;
        border: none;
        font-weight: bold;
        letter-spacing: 1px;
      }
      .add-server-btn:hover {
        background: #145c32;
      }
    </style>
  </head>
  <body>
    <div class="janitor-header">
      <i class="bi bi-bucket janitor-icon"></i>
      LAN Janitor
      <i class="bi bi-broom janitor-icon"></i>
    </div>
    <div id="app">
      <loading-overlay :show="showOverlay"></loading-overlay>
      <navbar-bar @logout="logout"></navbar-bar>
      <!-- Content -->
      <div class="container py-4">
        <div class="row g-3">
          <div class="col-lg-3 col-md-6 col-sm-12 g-3" v-for="server in servers" :key="server.server_id">
            <server-card
              :server="server"
              @delete="delServer"
              @reboot="rebootServer"
              @upgrade="upgradeServer"
            ></server-card>
          </div>
        </div>
        <!-- Button trigger modal -->
        <div class="row" style="padding-top:15px;">
          <div class="col">
            <button type="button" class="btn add-server-btn float-end" data-bs-toggle="modal" data-bs-target="#serverModal">
              <i class="bi bi-plus-circle"></i> Add Server
            </button>
          </div>
        </div>
        <footer-bar></footer-bar>
        <!-- Modal -->
        <add-server-modal
          v-model:name="newServerName"
          v-model:ip="newServerIP"
          @add="addServer"
        ></add-server-modal>
      </div>
    </div>
    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="/static/js/api.js"></script>
    <script src="/static/js/utils.js"></script>
    <script src="/static/js/components/ServerCard.js"></script>
    <script src="/static/js/components/AddServerModal.js"></script>
    <script src="/static/js/components/LoadingOverlay.js"></script>
    <script src="/static/js/components/NavbarBar.js"></script>
    <script src="/static/js/components/FooterBar.js"></script>
    <script src="/static/js/main.js"></script>
  </body>
</html>